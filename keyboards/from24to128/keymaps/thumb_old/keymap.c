/*
Copyright 2019 MakiTsukasa

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 2 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/

#include "keymap_jp.h"
#include "from24to128.h"
#include "bpm.h"

// Fillers to make layering more clear
#define _______ KC_TRNS
#define XXXXXXX KC_NO

/*
const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
	[0] = KEYMAP( \
		// +--------+--------+--------+--------+--------+--------+--------+  +--------+--------+--------+--------+--------+--------+--------+
			KC_TAB,  KC_Q,    KC_W,    KC_E,    KC_R,    KC_T,    KC_Y,        XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX,
		// +--------+--------+--------+--------+--------+--------+--------+  +--------+--------+--------+--------+--------+--------+--------+
			KC_LCTL, KC_A,    KC_S,    KC_D,    KC_F,    KC_G,    KC_H,       XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX,
		// +--------+--------+--------+--------+--------+--------+--------+  +--------+--------+--------+--------+--------+--------+--------+
			KC_LSFT, KC_Z,    KC_X,    KC_C,    KC_V,    KC_B,    KC_N,       XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX,
		// +--------+--------+--------+--------+--------+--------+--------+  +--------+--------+--------+--------+--------+--------+--------+
			KC_LCTL, KC_LGUI, KC_LALT, KC_MHEN, KC_J,    KC_SPC,  KC_K,       XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX
		// +--------+--------+--------+--------+--------+--------+--------+  +--------+--------+--------+--------+--------+--------+--------+
	)
};
*/

// https://github.com/qmk/qmk_firmware/blob/master/docs/feature_combo.md

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
	// default
	[0] = KEYMAP( \
		// +--------+--------+--------+--------+--------------+--------+--------------+  +--------------+--------+--------------+--------+--------+--------+--------+
			KC_TAB,  KC_Q,    KC_W,    KC_E,    KC_R,          KC_T,    KC_Y,             KC_DEL,        KC_Y,    KC_U,          KC_I,    KC_O,    KC_P,    KC_BSPC,
		// +--------+--------+--------+--------+--------------+--------+--------------+  +--------------+--------+--------------+--------+--------+--------+--------+
			KC_LCTL, KC_A,    KC_S,    KC_D,    KC_F,          KC_G,    KC_H,             JP_LBRC,       KC_H,    KC_J,          KC_K,    KC_L,    KC_SCLN, KC_ENT,
		// +--------+--------+--------+--------+--------------+--------+--------------+  +--------------+--------+--------------+--------+--------+--------+--------+
			MO(1),   KC_Z,    KC_X,    KC_C,    KC_V,          KC_B,    KC_N,             JP_RBRC,       KC_N,    KC_M,          KC_COMM, KC_DOT,  KC_SLSH, JP_MINS,
		// +--------+--------+--------+--------+--------------+--------+--------------+  +--------------+--------+--------------+--------+--------+--------+--------+
			KC_LCTL, KC_LGUI, KC_LALT, KC_MHEN, LT(2, KC_SPC), LT(1, KC_SPC), LCTL_T(KC_SPC), LCTL_T(KC_SPC), LT(1, KC_SPC), LT(2, KC_SPC), KC_HENK, KC_F2,   KC_APP,  KC_RCTL
		// +--------+--------+--------+--------+--------------+--------+--------------+  +--------------+--------+--------------+--------+--------+--------+--------+
	),
	// shift
	[1] = KEYMAP( \
		// +-----------+-----------+-----------+-----------+-----------+-----------+-----------+  +-----------+-----------+-----------+-----------+-----------+-----------+-----------+
			LSFT(KC_TAB),LSFT(KC_Q),LSFT(KC_W), LSFT(KC_E), LSFT(KC_R), LSFT(KC_T), LSFT(KC_Y),    _______,    RSFT(KC_Y), RSFT(KC_U), RSFT(KC_I), RSFT(KC_O), RSFT(KC_P), _______,
		// +-----------+-----------+-----------+-----------+-----------+-----------+-----------+  +-----------+-----------+-----------+-----------+-----------+-----------+-----------+
			_______,    LSFT(KC_A), LSFT(KC_S), LSFT(KC_D), LSFT(KC_F), LSFT(KC_G), LSFT(KC_H),    JP_LBRC,    RSFT(KC_H), RSFT(KC_J), RSFT(KC_K), RSFT(KC_L), JP_COLN,    _______,
		// +-----------+-----------+-----------+-----------+-----------+-----------+-----------+  +-----------+-----------+-----------+-----------+-----------+-----------+-----------+
			_______,    LSFT(KC_Z), LSFT(KC_X), LSFT(KC_C), LSFT(KC_V), LSFT(KC_B), LSFT(KC_N),    JP_RBRC,    RSFT(KC_N), RSFT(KC_M), JP_LT,      JP_GT,      JP_QUES,    JP_UNDS,
		// +-----------+-----------+-----------+-----------+-----------+-----------+-----------+  +-----------+-----------+-----------+-----------+-----------+-----------+-----------+
			_______,    _______,    _______,    LT(3, KC_SPC), _______, _______,    _______,       _______,    _______,    LT(3, KC_SPC), _______, _______,    _______,    _______
		// +-----------+-----------+-----------+-----------+-----------+-----------+-----------+  +-----------+-----------+-----------+-----------+-----------+-----------+-----------+
	),
	// nums and arrows
	[2] = KEYMAP( \
		// +--------+--------+--------+--------+-------+------- -+--------------+  +--------------+--------+--------+--------+--------+--------+--------+
			KC_ESC,  JP_GRV,  JP_MINS, JP_EQL,  JP_QUOT,  JP_YEN, KC_LSFT,          _______,       _______, _______, _______, _______, XXXXXXX, _______,
		// +--------+--------+--------+--------+--------+--------+--------------+  +--------------+--------+--------+--------+--------+--------+--------+
			_______, KC_1,    KC_2,    KC_3,    KC_4,    KC_5,    JP_LPRN,          _______,       KC_LEFT, KC_DOWN, KC_UP,   KC_RGHT, _______, _______,
		// +--------+--------+--------+--------+--------+--------+--------------+  +--------------+--------+--------+--------+--------+--------+--------+
			MO(3),   KC_6,    KC_7,    KC_8,    KC_9,    KC_0,    JP_RPRN,          _______,       KC_HOME, KC_PGDN, KC_PGUP, KC_END,  _______, _______,
		// +--------+--------+--------+--------+--------+--------+--------------+  +--------------+--------+--------+--------+--------+--------+--------+
			_______, _______, _______, _______, _______, LT(3, KC_SPC), _______,    _______,       _______, _______, _______, _______, _______, _______
		// +--------+--------+--------+--------+--------+--------+--------------+  +--------------+--------+--------+--------+--------+--------+--------+
	),
	// shift nums and arrows
	[3] = KEYMAP( \
		// +--------+--------+--------+--------+--------------+--------+--------+  +--------+--------+--------------+--------+--------+--------+--------+
			KC_ESC,  JP_TILD, JP_UNDS, JP_PLUS, JP_DQT,       JP_PIPE,  _______,    _______, KC_F6,   KC_F7,         KC_F8,   KC_F9,   KC_F10,  _______,
		// +--------+--------+--------+--------+--------------+--------+--------+  +--------+--------+--------------+--------+--------+--------+--------+
			_______, JP_EXLM, JP_AT,   JP_HASH, JP_DLR,        JP_PERC, _______,    JP_LCBR, RSFT(KC_LEFT), RSFT(KC_DOWN), RSFT(KC_UP), RSFT(KC_RGHT), JP_COLN, _______,
		// +--------+--------+--------+--------+--------------+--------+--------+  +--------+--------+--------------+--------+--------+--------+--------+
			_______, JP_CIRC, JP_AMPR, JP_ASTR, JP_LPRN,       JP_RPRN, _______,    JP_RCBR, JP_LCBR, JP_RCBR,       KC_LT,   KC_GT,   KC_QUES, _______,
		// +--------+--------+--------+--------+--------------+--------+--------+  +--------+--------+--------------+--------+--------+--------+--------+
			_______, _______, _______, _______, _______,       _______, _______,    _______, _______, _______,       _______, KC_PSCR, _______, _______
		// +--------+--------+--------+--------+--------------+--------+--------+  +--------+--------+--------------+--------+--------+--------+--------+
	),
	// function keys
	[4] = KEYMAP( \
		// +--------+--------+--------+--------+--------+--------+--------+  +--------+--------+--------+--------+--------+--------+--------+
			_______, KC_F1,   KC_F2,   KC_F3,   KC_F4,   KC_F5,   KC_F6,      KC_F7,   KC_F8,   KC_F9,    KC_F10,  KC_F11,  KC_F12,  _______,
		// +--------+--------+--------+--------+--------+--------+--------+  +--------+--------+--------+--------+--------+--------+--------+
			_______, XXXXXXX, KC_MS_L, KC_MS_D, KC_MS_U, KC_MS_R, XXXXXXX,    RESET,   XXXXXXX, KC__MUTE, KC_VOLU, KC_VOLD, XXXXXXX, _______,
		// +--------+--------+--------+--------+--------+--------+--------+  +--------+--------+--------+--------+--------+--------+--------+
			_______, XXXXXXX, KC_BTN1, KC_BTN3, KC_BTN2, XXXXXXX, XXXXXXX,    EEP_RST, XXXXXXX, XXXXXXX,  XXXXXXX, XXXXXXX, XXXXXXX, _______,
		// +--------+--------+--------+--------+--------+--------+--------+  +--------+--------+--------+--------+--------+--------+--------+
			_______, _______, _______, _______, _______, _______, _______,    _______, _______, _______, _______,  _______, _______, _______
		// +--------+--------+--------+--------+--------+--------+--------+  +--------+--------+--------+--------+--------+--------+--------+
	),
};

const macro_t *action_get_macro(keyrecord_t *record, uint8_t id, uint8_t opt) {
	return MACRO_NONE;
}

bool process_record_user(uint16_t keycode, keyrecord_t *record) {
	return true;
}
